<div class="container">
  <h1>労働者名簿</h1>
  <div class="row justify-content-end mb-5">
    <div class="col-2">
      <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal" data-bs-whatever="@mdo">新規登録</button>
      <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
          <div class="modal-content">
            <form id="AddForm" class="form-horizontal">
              <div class="modal-header">
                <h4 class="modal-title">新規登録</h4>
                <button type="button" class="close" data-dismiss="modal">×</button>
              </div>
              <div class="modal-body">
                <div class="row">
                  <div class="col-md-1"></div>
                  <div class="col-md-10">
                    <%= form_with model: Employee.new do |f| %>
                      <div class="form-group row">
                        <div class="col-sm-6">
                          <%= f.label :first_name,"姓" %>
                          <%= f.text_field :first_name, class: "form-control", required: true %>
                        </div>
                        <div class="col-sm-6">
                          <%= f.label :last_name,"名" %>
                          <%= f.text_field :last_name, class: "form-control", required: true %>
                        </div>
                      </div>
                      <div class="form-group row">
                        <div class="col-sm-6">
                          <%= f.label :first_name_kana,"姓カナ" %>
                          <%= f.text_field :first_name_kana, class: "form-control", required: true %>
                        </div>
                        <div class="col-sm-6">
                          <%= f.label :last_name_kana,"名カナ" %>
                          <%= f.text_field :last_name_kana, class: "form-control", required: true %>
                        </div>
                      </div>
                      <div class="form-group">
                        <%= f.label :birthday,"生年月日" %>
                        <div class="row col-sm-10">
                          <%= f.date_select :birthday,
                              { use_month_numbers: true, start_year: (Time.now.year - 60),
                                end_year: (Time.now.year), default: nil,
                                prompt: { day: '日', month: '月', year: '年'},
                                include_blank: false, required: true
                              },
                              { class: "form-control mx-2", 
                                style: 'display: inline-block;width: auto;'
                              }
                            %>
                        </div>
                      </div>
                      <div class="form-group">
                        <%= f.label :postal_code,"郵便番号" %>
                        <div class="row">
                          <div class="col-3">
                            <%= f.text_field :postal_code, class: "form-control form-control-sm w10", required: true, onKeyUp: "AjaxZip3.zip2addr(this,'','address','address');" %>
                          </div>
                        </div>
                      </div>
                      <div class="form-group">
                        <%= f.label :address,"住所" %>
                        <%= f.text_field :address, name: "address", class: "form-control", required: true %>
                      </div>
                      <div class="form-group">
                        <%= f.label :telephone_number,"電話番号" %>
                        <%= f.telephone_field :telephone_number, class: "form-control", required: true %>
                      </div>
                      <div class="form-group">
                        <%= f.label :start_date, "入社日" %>
                        <div class="row col-sm-10">
                          <%= f.date_select :join_date,
                            {
                              use_month_numbers: true,
                              start_year: (Time.now.year - 20),
                              end_year: (Time.now.year + 5),
                              default: nil,
                              prompt: { day: '日', month: '月', year: '年'},
                              include_blank: false,
                            },
                            {
                              class: "form-control mx-2", 
                              style: 'display: inline-block;width: auto;'
                            }
                          %>
                        </div>
                      </div>
                      <div class="form-group">
                        <%= f.label :end_date, "退社日" %>
                        <div class="row col-sm-10">
                          <%= f.date_select :join_date,
                            {
                              use_month_numbers: true,
                              start_year: (Time.now.year - 5),
                              end_year: (Time.now.year + 5),
                              default: nil,
                              prompt: { day: '日', month: '月', year: '年'},
                              include_blank: false,
                            },
                            {
                              class: "form-control mx-2", 
                              style: 'display: inline-block;width: auto;'
                            }
                          %>
                        </div>
                      </div>
                    </div>
                    <div class="col-md-1"> </div>
                  </div>
                </div>
                <div class="modal-footer">
                  <div class="row">
                    <div class='col-xs-6 text-right'>
                      <div class='btn-group btn-add-block'>
                        <%= f.submit "登録", class: "btn btn-primary btn-add"%>
                      <% end %>
                    </div>
                  </div>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
      <%= link_to '一括削除', new_employee_path, class: "btn btn-danger" %>
    </div>
  </div>
  <table class="table table-striped table-hover">
    <thead>
      <tr>
        <th scope="col"></th>
        <th scope="col">生年月日</th>
        <th scope="col">年齢</th>
        <th scope="col">住所</th>
        <th scope="col">入社日</th>
        <th scope="col">退社日</th>
      </tr>
    </thead>
    <tbody class="table-group-divider">
      <% @employees.each do |employee| %>
        <tr>
          <th scope="row">1</th>
          <td>Mark</td>
          <td>Otto</td>
          <td>@mdo</td>
          <td></td>
          <td></td>
        </tr>
        <tr>
          <th scope="row">2</th>
          <td>Jacob</td>
          <td>Thornton</td>
          <td>@fat</td>
        </tr>
        <tr>
          <th scope="row">3</th>
          <td colspan="2">Larry the Bird</td>
          <td>@twitter</td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>